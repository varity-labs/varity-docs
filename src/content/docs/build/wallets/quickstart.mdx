---
title: Smart Wallets Quick Start
description: Add embedded smart wallets to your app in 5 minutes
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

# Smart Wallets Quick Start

Give your users embedded smart wallets with gasless transactions.

:::tip[Why smart wallets?]
- Users don't need MetaMask or any wallet app
- You sponsor gas fees (users pay nothing)
- Better UX than traditional wallets
:::

## Prerequisites

- A Varity project with authentication set up
- Node.js 18 or later

## Installation

<Tabs>
  <TabItem label="npm">
    ```bash
    npm install @varity/ui-kit
    ```
  </TabItem>
  <TabItem label="yarn">
    ```bash
    yarn add @varity/ui-kit
    ```
  </TabItem>
  <TabItem label="pnpm">
    ```bash
    pnpm add @varity/ui-kit
    ```
  </TabItem>
</Tabs>

## Step 1: Add the SmartWalletProvider

Wrap your app with `SmartWalletProvider`:

```typescript title="src/App.tsx"
// IMPORTANT: Use thirdweb v5 function-based API (NOT v4 class-based)
import { PrivyStack, SmartWalletProvider } from '@varity/ui-kit';
import { createThirdwebClient } from 'thirdweb';
import { varityL3Testnet } from '@varity/sdk';

// Create thirdweb client for smart wallet operations
const client = createThirdwebClient({
  clientId: process.env.NEXT_PUBLIC_THIRDWEB_CLIENT_ID,
});

function App() {
  return (
    <PrivyStack appId={process.env.NEXT_PUBLIC_PRIVY_APP_ID}>
      <SmartWalletProvider
        config={{
          client,
          chain: varityL3Testnet, // Varity L3 testnet (Chain ID 33529)
          gasless: { enabled: true }, // Users never pay gas fees
        }}
      >
        <YourApp />
      </SmartWalletProvider>
    </PrivyStack>
  );
}
```

## Step 2: Use the wallet hook

Access the smart wallet in your components:

```typescript title="src/components/WalletInfo.tsx"
import { useSmartWallet } from '@varity/ui-kit';

function WalletInfo() {
  const { account, getAddress, isConnected, isGasless } = useSmartWallet();

  if (!isConnected) return <p>Connecting wallet...</p>;

  return (
    <div>
      <p>Wallet address: {getAddress()}</p>
      <p>Gasless: {isGasless ? 'Enabled' : 'Disabled'}</p>
    </div>
  );
}
```

## Step 3: Send gasless transactions

Users can transact without paying gas:

```typescript title="src/components/SendTransaction.tsx"
import { useSmartWallet } from '@varity/ui-kit';

function SendTransaction() {
  const { sendTransaction, isGasless, isConnected } = useSmartWallet();

  const handleSend = async () => {
    if (!isConnected) {
      console.error('Wallet not connected');
      return;
    }

    // Send gasless transaction on Varity L3 testnet (Chain ID 33529)
    const txHash = await sendTransaction({
      to: '0x...', // Recipient address
      value: '0',  // Amount in wei
      data: '0x...', // Encoded transaction data
    });

    console.log('Transaction hash:', txHash);
    console.log('User paid no gas fees:', isGasless);
  };

  return (
    <div>
      <button onClick={handleSend} disabled={!isConnected}>
        Send Transaction
      </button>
      {isGasless && <p className="text-green-600">Gasless enabled</p>}
    </div>
  );
}
```

:::note[Testnet Only]
All transactions are on Varity L3 testnet (Chain ID 33529). Mainnet launch coming post-MVP.
:::

## Next steps

- [Create Wallet](/build/wallets/create-wallet) — Customize wallet creation
- [Session Keys](/build/wallets/session-keys) — Enable batch transactions
- [Gasless Transactions](/build/payments/gasless) — Configure gas sponsorship
