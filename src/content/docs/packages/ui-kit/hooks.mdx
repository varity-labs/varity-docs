---
title: "Hooks Reference"
description: "Complete reference for all @varity-labs/ui-kit React hooks"
---

import Accordion from '../../../../components/Accordion.astro';

All React hooks exported by `@varity-labs/ui-kit`.

## Authentication Hooks

### usePrivy

Core authentication hook, re-exported from `@privy-io/react-auth`.

```tsx
import { usePrivy } from '@varity-labs/ui-kit';

function MyComponent() {
  const {
    ready,          // boolean - Privy has initialized
    authenticated,  // boolean - User is logged in
    user,           // User object or null
    login,          // () => void - Open login modal
    logout,         // () => Promise<void> - Log out
  } = usePrivy();

  if (!ready) {
    return <div>Loading...</div>;
  }

  if (!authenticated) {
    return <button onClick={login}>Sign In</button>;
  }

  return (
    <div>
      <p>Welcome, {user?.email?.address}</p>
      <button onClick={logout}>Sign Out</button>
    </div>
  );
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `ready` | `boolean` | Privy has finished initializing |
| `authenticated` | `boolean` | User is logged in |
| `user` | `User \| null` | User object with profile data |
| `login` | `() => void` | Opens the login modal |
| `logout` | `() => Promise<void>` | Logs the user out |

### useLogin / useLogout

Programmatic login and logout triggers.

```tsx
import { useLogin, useLogout } from '@varity-labs/ui-kit';

function AuthControls() {
  const { login } = useLogin({
    onComplete: (user) => console.log('Logged in:', user),
    onError: (error) => console.error('Login failed:', error),
  });

  const { logout } = useLogout({
    onSuccess: () => router.push('/'),
  });

  return (
    <>
      <button onClick={login}>Sign In</button>
      <button onClick={logout}>Sign Out</button>
    </>
  );
}
```

## Data & API Hooks

### useAnalytics

Dashboard analytics data.

```tsx
import { useAnalytics } from '@varity-labs/ui-kit';

function AnalyticsPanel() {
  const { data, loading, error, refetch, trackEvent } = useAnalytics({
    period: 'current_month',
  });

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;

  return (
    <div>
      <p>Total Users: {data.totalUsers}</p>
      <p>Revenue: ${data.revenue}</p>
      <button onClick={() => trackEvent('page_view', { page: 'analytics' })}>
        Track Event
      </button>
    </div>
  );
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `data` | `AnalyticsData` | Analytics data for the period |
| `loading` | `boolean` | Data is loading |
| `error` | `Error \| null` | Error if request failed |
| `refetch` | `() => void` | Refetch analytics data |
| `trackEvent` | `(name, data?) => void` | Track a custom event |

### useKPI

Key performance indicator for a specific metric.

```tsx
import { useKPI } from '@varity-labs/ui-kit';

function KPICard() {
  const { value, unit, trend, trendValue, loading, error, refetch } = useKPI('monthly_revenue', {
    period: 'current_month',
  });

  if (loading) return <div>Loading...</div>;

  return (
    <div>
      <h3>Monthly Revenue</h3>
      <p>{value} {unit}</p>
      <span className={trend === 'up' ? 'text-green-500' : 'text-red-500'}>
        {trendValue}%
      </span>
    </div>
  );
}
```

**Returns:**

| Property | Type | Description |
|----------|------|-------------|
| `value` | `string \| number` | KPI value |
| `unit` | `string` | Unit label (e.g. "USD", "users") |
| `trend` | `'up' \| 'down' \| 'flat'` | Trend direction |
| `trendValue` | `number` | Trend percentage |
| `loading` | `boolean` | Data is loading |
| `error` | `Error \| null` | Error if request failed |
| `refetch` | `() => void` | Refetch KPI data |

### useDashboard

Dashboard configuration and widget management.

```tsx
import { useDashboard } from '@varity-labs/ui-kit';

function DashboardEditor() {
  const {
    config,
    loading,
    error,
    updateConfig,
    addWidget,
    removeWidget,
    save,
    load,
    reset,
  } = useDashboard();

  return (
    <div>
      <h2>{config?.title}</h2>
      <button onClick={() => addWidget({ type: 'chart', title: 'Revenue' })}>
        Add Widget
      </button>
      <button onClick={save}>Save Layout</button>
      <button onClick={reset}>Reset</button>
    </div>
  );
}
```

### useWidgetData

Fetch data for a specific dashboard widget.

```tsx
import { useWidgetData } from '@varity-labs/ui-kit';

function Widget({ widget }) {
  const { data, loading, error, refetch } = useWidgetData(widget);

  if (loading) return <div>Loading widget...</div>;
  if (error) return <div>Widget error</div>;

  return <div>{JSON.stringify(data)}</div>;
}
```

### useVarityQuery

Generic data fetching hook. Requires `<VarityDashboardProvider>` or `<VarityPrivyProvider>`.

```tsx
import { useVarityQuery } from '@varity-labs/ui-kit';

function UserList() {
  const { data, loading, error, refetch } = useVarityQuery(
    async () => {
      const response = await fetch('/api/users');
      return response.json();
    },
    [] // dependency array
  );

  if (loading) return <div>Loading...</div>;

  return (
    <ul>
      {data?.map((user) => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

### useVarityMutation

Mutation hook for create/update/delete operations.

```tsx
import { useVarityMutation } from '@varity-labs/ui-kit';

function CreateUser() {
  const { mutate, loading, error, data, reset } = useVarityMutation(
    async (args: { name: string; email: string }) => {
      const response = await fetch('/api/users', {
        method: 'POST',
        body: JSON.stringify(args),
      });
      return response.json();
    }
  );

  return (
    <button
      onClick={() => mutate({ name: 'Alice', email: 'alice@example.com' })}
      disabled={loading}
    >
      {loading ? 'Creating...' : 'Create User'}
    </button>
  );
}
```

### useTheme

Access the current theme. Requires `<ThemeProvider>`.

```tsx
import { useTheme } from '@varity-labs/ui-kit';

function ThemedComponent() {
  const theme = useTheme();

  return (
    <div style={{ color: theme.colors.primary }}>
      Themed content
    </div>
  );
}
```

## Complete Example

```tsx
import { usePrivy, useAnalytics, useKPI } from '@varity-labs/ui-kit';

function Dashboard() {
  const { user, authenticated, logout } = usePrivy();
  const { data } = useAnalytics({ period: 'current_month' });
  const revenue = useKPI('monthly_revenue');

  if (!authenticated) {
    return <p>Please sign in</p>;
  }

  return (
    <div>
      <h1>Welcome, {user?.email?.address}</h1>
      <p>Total Users: {data?.totalUsers}</p>
      <p>Revenue: {revenue.value} {revenue.unit}</p>
      <button onClick={logout}>Sign Out</button>
    </div>
  );
}
```

<Accordion title="Advanced: Account and Infrastructure Hooks">

These hooks provide lower-level access to account state and infrastructure. Most apps only need `usePrivy` for authentication.

### useWallets

Access all connected accounts, re-exported from `@privy-io/react-auth`.

```tsx
import { useWallets } from '@varity-labs/ui-kit';

function AccountList() {
  const { wallets, ready } = useWallets();

  if (!ready) return <div>Loading accounts...</div>;

  return (
    <ul>
      {wallets.map((wallet) => (
        <li key={wallet.address}>
          {wallet.walletClientType}: {wallet.address}
        </li>
      ))}
    </ul>
  );
}
```

### useWalletAuth

Session-based account authentication with auto-refresh and multi-device support.

```tsx
import { useWalletAuth } from '@varity-labs/ui-kit';

function SessionDemo() {
  const {
    isAuthenticated,
    sessionToken,
    walletAddress,
    login,
    logout,
    refreshSession,
    authFetch,
  } = useWalletAuth({
    apiBaseUrl: '/api',
    autoLogin: true,
    refreshIntervalMinutes: 5,
  });

  const fetchData = async () => {
    const response = await authFetch('/api/protected-route');
    return response.json();
  };

  return (
    <div>
      <p>Authenticated: {isAuthenticated ? 'Yes' : 'No'}</p>
      <button onClick={login}>Login</button>
      <button onClick={logout}>Logout</button>
    </div>
  );
}
```

### useAuth

Sign-In with Ethereum (SIWE) authentication.

```tsx
import { useAuth } from '@varity-labs/ui-kit';

function AuthStatus() {
  const { user, isAuthenticated, login, logout } = useAuth();

  if (!isAuthenticated) {
    return <button onClick={login}>Sign In</button>;
  }

  return (
    <div>
      <p>Signed in as: {user?.address}</p>
      <button onClick={logout}>Sign Out</button>
    </div>
  );
}
```

### useVarityAPI

Direct access to module clients. Requires a provider context.

```tsx
import { useVarityAPI } from '@varity-labs/ui-kit';

function DirectAPIAccess() {
  const { client, isAuthenticated } = useVarityAPI();

  const fetchAnalytics = async () => {
    if (!client) return;
    const data = await client.analytics.getKPIs();
    console.log(data);
  };

  return (
    <button onClick={fetchAnalytics} disabled={!isAuthenticated}>
      Fetch Analytics
    </button>
  );
}
```

</Accordion>

## Next Steps

- [Components Reference](/packages/ui-kit/components) - All components
- [Authentication Guide](/build/auth/quickstart) - Complete auth setup
- [Payments Guide](/build/payments/quickstart) - Accept payments
