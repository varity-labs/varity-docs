---
title: Accounts Quick Start
description: How user accounts work in Varity apps
---

import { Tabs, TabItem, Aside } from '@astrojs/starlight/components';
import Accordion from '../../../../components/Accordion.astro';
import PageMeta from '../../../../components/PageMeta.astro';

<PageMeta
  author="Varity Team"
  authorRole="Core Contributors"
  lastUpdated="February 2026"
  stability="stable"
/>

# Accounts Quick Start

When users sign in to your Varity app, they automatically get an account. No extra setup needed.

:::tip[How it works]
- Users sign in with email or social login
- An account is created automatically behind the scenes
- All operations are free for users (you sponsor the costs)
- No browser extensions or special apps required
:::

## Prerequisites

- A Varity project with authentication set up ([Auth Quick Start](/build/auth/quickstart))
- Node.js 18 or later

## What Happens When Users Sign In

When a user logs in via `PrivyStack`, Varity automatically:

1. Creates an embedded account linked to their identity
2. Enables free operations (users never pay fees)
3. Sets up session handling

You don't need to configure anything extra — `PrivyStack` handles everything.

## Checking Account Status

Use the `usePrivy` hook to check if a user is signed in:

```tsx title="src/components/AccountStatus.tsx"
import { usePrivy } from '@varity-labs/ui-kit';

function AccountStatus() {
  const { authenticated, user, ready } = usePrivy();

  if (!ready) return <p>Loading...</p>;
  if (!authenticated) return <p>Not signed in</p>;

  return (
    <div>
      <p>Signed in as: {user?.email?.address || 'User'}</p>
    </div>
  );
}
```

## Protecting Routes

Show content only to signed-in users:

```tsx title="src/components/ProtectedDashboard.tsx"
import { PrivyProtectedRoute } from '@varity-labs/ui-kit';

function App() {
  return (
    <PrivyProtectedRoute>
      <Dashboard />
    </PrivyProtectedRoute>
  );
}
```

## Free Operations

All operations on Varity are free for end users. The platform sponsors operational costs so your users never see fees or extra prompts.

```tsx
import { usePrivy } from '@varity-labs/ui-kit';

function PurchaseButton() {
  const { authenticated } = usePrivy();

  return (
    <button disabled={!authenticated}>
      Purchase — Free, no extra charges
    </button>
  );
}
```

<Aside type="note">
**Beta** — All operations run on Varity's beta environment. Production launch coming soon.
</Aside>

<Accordion title="Advanced: Smart Account Configuration">

**Varity manages these credentials automatically. Only use this if you need custom configuration.**

For advanced use cases, you can configure smart accounts directly using the `SmartWalletProvider`:

```typescript title="src/App.tsx"
import { PrivyStack, SmartWalletProvider } from '@varity-labs/ui-kit';
import { createThirdwebClient } from 'thirdweb';
import { varityL3Testnet } from '@varity-labs/sdk';

const client = createThirdwebClient({
  clientId: process.env.NEXT_PUBLIC_THIRDWEB_CLIENT_ID,
});

function App() {
  return (
    <PrivyStack appId={process.env.NEXT_PUBLIC_PRIVY_APP_ID}>
      <SmartWalletProvider
        config={{
          client,
          chain: varityL3Testnet,
          gasless: { enabled: true },
        }}
      >
        <YourApp />
      </SmartWalletProvider>
    </PrivyStack>
  );
}
```

Access smart account operations:

```typescript title="src/components/SmartAccountDemo.tsx"
import { useSmartWallet } from '@varity-labs/ui-kit';

function SmartAccountDemo() {
  const { account, getAddress, isConnected, isGasless, sendTransaction } = useSmartWallet();

  const handleSend = async () => {
    const result = await sendTransaction({
      to: '0x...',
      value: '0',
      data: '0x...',
    });
    console.log('Operation result:', result);
  };

  return (
    <div>
      <p>Connected: {isConnected ? 'Yes' : 'No'}</p>
      <p>Address: {getAddress()}</p>
      <p>Free operations: {isGasless ? 'Enabled' : 'Disabled'}</p>
      <button onClick={handleSend}>Send Operation</button>
    </div>
  );
}
```

</Accordion>

## Next steps

- [Authentication Quick Start](/build/auth/quickstart) — Set up user login
- [Session Keys](/build/wallets/session-keys) — Enable batch operations
- [Free Operations](/build/payments/gasless) — How fee sponsorship works
