---
title: "Infrastructure Configuration"
description: "Working with Varity's infrastructure and supported networks"
---

import { Aside } from '@astrojs/starlight/components';
import Accordion from '../../../../components/Accordion.astro';

Varity SDK handles all infrastructure configuration automatically. You rarely need to configure anything manually.

## USDC Handling

USDC on Varity uses 6 decimals. Use the helpers to avoid errors:

```typescript
import { formatUSDC, parseUSDC, USDC_DECIMALS } from '@varity-labs/sdk';

// Convert human-readable to raw (for operations)
const amount = parseUSDC("10.50");
// Returns: 10500000n (bigint)

// Convert raw to human-readable (for display)
const display = formatUSDC(10500000n);
// Returns: { raw: 10500000n, formatted: "10.50 USDC", value: 10.5, decimals: 6 }

// The decimal constant
console.log(USDC_DECIMALS); // 6
```

<Aside type="caution">
**Important:** USDC on Varity uses **6 decimals**, not 18. Always use the `formatUSDC` and `parseUSDC` helpers to avoid calculation errors.
</Aside>

## Accessing Contract Addresses

```typescript
import { VARITY_CONTRACTS, getVarityContractAddress } from '@varity-labs/sdk';

// Get all contracts
console.log(VARITY_CONTRACTS);

// Get specific contract
const marketplace = getVarityContractAddress('TemplateMarketplace');
```

## Revenue Split

The platform uses a 90/10 revenue split:

```typescript
import { REVENUE_SPLIT } from '@varity-labs/sdk';

console.log(REVENUE_SPLIT);
// { DEVELOPER_PERCENT: 90, PLATFORM_PERCENT: 10 }
```

When users purchase your app:
- **90%** goes to you (the developer) - `REVENUE_SPLIT.DEVELOPER_PERCENT`
- **10%** goes to the Varity platform - `REVENUE_SPLIT.PLATFORM_PERCENT`

<Aside type="tip">
**Free operations by default.** Users on Varity never pay usage fees. The platform sponsors all operational costs.
</Aside>

<Accordion title="Advanced: Network Details">

**Varity manages these credentials automatically. Only use this if you need custom configuration.**

## Varity Infrastructure

| Property | Value |
|----------|-------|
| **Chain ID** | `33529` |
| **RPC URL** | `https://rpc-varity-testnet-rroe52pwjp.t.conduit.xyz` |
| **Explorer** | `https://explorer-varity-testnet-rroe52pwjp.t.conduit.xyz` |
| **Native Token** | Bridged USDC |
| **Decimals** | 6 (not 18!) |

## Backend Contracts

Pre-deployed on Varity's infrastructure:

| Contract | Address | Purpose |
|----------|---------|---------|
| **TemplateMarketplace** | `0x58618dcD2A4109854441B74a28C1dA4E58d7AF44` | 90/10 Revenue Split |
| **TemplateRegistry** | `0xE4062a3eF177C1A80C7f03874596EFa0D5b4FeD3` | Template metadata |
| **VarityAppRegistry** | `0x52d4f28ebe20fad743bbef9daa61bfe3ce91eb74` | App Store submissions |
| **SimplifiedPaymaster** | `0xeF467aef91d4e626C7e56967779069bEF22c4453` | Fee sponsorship |
| **VarityWalletFactory** | `0x85AB92708CB4d921f5c2BdCCd7f2D0813a380f71` | Smart accounts |

## Supported Networks

| Network | Chain ID | Status |
|---------|----------|--------|
| Varity (Beta) | 33529 | Active |
| Varity (Production) | TBD | Coming post-MVP |

## Network Configuration

```typescript
import { getNetworkConfig, NETWORK_CONFIGS } from '@varity-labs/sdk';

const config = getNetworkConfig('arbitrum-l3-testnet');
console.log(Object.keys(NETWORK_CONFIGS));
```

## Direct Chain Access

```typescript
import { createThirdwebClient, getContract } from 'thirdweb';
import { varityL3Testnet } from '@varity-labs/sdk';

const client = createThirdwebClient({
  clientId: process.env.NEXT_PUBLIC_THIRDWEB_CLIENT_ID,
});

const contract = getContract({
  client,
  chain: varityL3Testnet,
  address: '0x58618dcD2A4109854441B74a28C1dA4E58d7AF44',
});
```

## Wagmi Format

```typescript
import { varityL3Wagmi } from '@varity-labs/sdk';

const config = createConfig({
  chains: [varityL3Wagmi],
});
```

</Accordion>

## Next Steps

- [SDK Overview](/packages/sdk/overview) - Full SDK capabilities
- [Deploy Your App](/deploy/varity-l3) - Deploy your app
- [Free Operations](/build/payments/gasless) - How fee sponsorship works
