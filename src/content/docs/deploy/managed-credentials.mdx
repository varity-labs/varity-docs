---
title: "Managed Credentials"
description: "How Varity automatically provides authentication, storage, and infrastructure credentials"
---

import { Steps, Aside } from '@astrojs/starlight/components';
import Accordion from '../../../components/Accordion.astro';

# Managed Credentials

Varity automatically provides all the credentials your app needs. You never need to create third-party accounts or manually configure API keys.

## How It Works

When you deploy with Varity, credentials are handled automatically at every stage:

<Steps>

1. **Development** — The SDK auto-uses shared development credentials. No `.env` setup needed to start building.

2. **Production** — When you run `varitykit deploy`, the CLI fetches production credentials from Varity's credential proxy and injects them into your build.

3. **Runtime** — Your deployed app uses managed credentials. Users never see API keys or configuration prompts.

</Steps>

```
Developer runs: varitykit deploy
    |
CLI fetches credentials from Varity's credential proxy
    |
Credentials injected into build automatically
    |
App deployed with everything configured
```

## What's Managed

Varity provides credentials for:

| Service | What It Covers | Developer Action |
|---------|---------------|-----------------|
| **Authentication** | User login (email, social) | None required |
| **File Storage** | Uploads, CDN delivery | None required |
| **Infrastructure** | Network access, operations | None required |

## Development Mode

During local development, the SDK automatically uses shared development credentials:

```typescript
import { createVaritySDK } from '@varity-labs/sdk';

// Works immediately — no env vars needed
const sdk = createVaritySDK({
  network: 'arbitrum-l3-testnet',
});

await sdk.connect();
await sdk.storage.upload(file); // Uses shared dev credentials
```

<Aside type="tip">
Just install the packages and start coding. The SDK handles credential resolution automatically.
</Aside>

## Production Deployment

When you deploy, the CLI handles everything:

```bash
varitykit app deploy
```

Output:
```
✓ Credentials: Auto-provided
✓ Build complete
✓ Deployed successfully
✓ URL: https://your-app.varity.app
```

No manual credential setup required.

## Security

- **Rate-limited** — Credential proxy enforces per-app rate limits
- **API key authenticated** — CLI uses embedded API keys to authenticate with the proxy
- **Credentials never stored on disk** — Injected at build time only
- **Isolated per app** — Each app receives its own credential scope

## Verifying Credentials

Run the doctor command to verify your credential status:

```bash
varitykit doctor
```

```
Checking environment variables...
  ✓ Credentials: Auto-provided
  ✓ Storage API: Accessible
```

<Accordion title="Advanced: Using Your Own Credentials">

**Varity manages these credentials automatically. Only use this if you need custom configuration.**

Power users can override managed credentials with their own. Set these environment variables to use your own accounts:

### Authentication (Privy)

1. Create an account at [dashboard.privy.io](https://dashboard.privy.io)
2. Create a new app and copy your App ID
3. Add to your `.env.local`:

```bash title=".env.local"
NEXT_PUBLIC_PRIVY_APP_ID=your_privy_app_id
```

### Storage (thirdweb)

1. Create an account at [thirdweb.com/dashboard](https://thirdweb.com/dashboard)
2. Create a project and copy your Client ID
3. Add to your `.env.local`:

```bash title=".env.local"
THIRDWEB_CLIENT_ID=your_thirdweb_client_id
```

When these variables are set, the SDK and CLI will use your credentials instead of the managed ones.

</Accordion>

## Next Steps

- [Environment Variables](/deploy/env-variables) — Variables you can customize
- [Deploy Your App](/deploy/varity-l3) — Deploy with one command
- [CLI Doctor](/cli/commands/doctor) — Verify your setup
