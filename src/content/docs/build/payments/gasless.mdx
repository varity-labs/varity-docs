---
title: "Free Operations"
description: "Users never pay usage fees"
---

import { Steps, Aside } from '@astrojs/starlight/components';
import Accordion from '../../../../components/Accordion.astro';
import PageMeta from '../../../../components/PageMeta.astro';

<PageMeta
  author="Varity Team"
  authorRole="Core Contributors"
  lastUpdated="February 2026"
  stability="beta"
/>

# Free Operations

Your users never pay usage fees. Varity sponsors all operational costs for a seamless app experience.

## How It Works

Traditional platforms charge per-request fees. With Varity:

1. User performs an action (create, update, delete)
2. Varity's infrastructure handles the operation for free
3. Operation completes instantly
4. User sees success -- no fee prompts, no extra steps

Your app works just like any other web app. No interruptions, no hidden costs.

<Aside type="tip">
**No special accounts needed.** Combined with email login, your users never see extra prompts or fee confirmations. It just works.
</Aside>

## Setup

<Steps>

1. **Wrap with PrivyStack**

   Free operations are enabled by default:

   ```tsx title="app/layout.tsx"
   import { PrivyStack } from '@varity-labs/ui-kit';

   export default function RootLayout({ children }) {
     return (
       <html>
         <body>
           <PrivyStack>
             {children}
           </PrivyStack>
         </body>
       </html>
     );
   }
   ```

2. **Operations are automatically free**

   When users perform actions, all operational costs are sponsored automatically.

</Steps>

## Features

| Feature | Description |
|---------|-------------|
| Free operations | All usage fees paid by Varity |
| Batch | Multiple operations in one request |
| Auto-deploy | Account created on first use |
| No keys to manage | Users never handle private keys |

## Billing

- **Beta**: Free (using shared development credentials)
- **Production**: Usage-based billing through your Varity account

<Accordion title="Advanced: Smart Account Configuration">

**Varity manages these credentials automatically. Only use this if you need custom configuration.**

For more control, you can configure the smart account provider directly:

```tsx title="app/layout.tsx"
import { SmartWalletProvider } from '@varity-labs/ui-kit';
import { createThirdwebClient } from 'thirdweb';
import { varityL3Testnet } from '@varity-labs/sdk';

const client = createThirdwebClient({
  clientId: process.env.NEXT_PUBLIC_THIRDWEB_CLIENT_ID,
});

export default function App({ children }) {
  return (
    <SmartWalletProvider
      config={{
        client,
        chain: varityL3Testnet,
        gasless: { enabled: true },
      }}
    >
      {children}
    </SmartWalletProvider>
  );
}
```

### Smart Account Hook

```tsx
import { useSmartWallet } from '@varity-labs/ui-kit';

function ActionButton() {
  const { sendTransaction, isGasless, isConnected } = useSmartWallet();

  const handleAction = async () => {
    const result = await sendTransaction({
      to: '0x...',
      data: '0x...',
      value: '0',
    });
    console.log('Operation complete:', result);
  };

  return (
    <button onClick={handleAction} disabled={!isConnected}>
      Perform Action {isGasless && '(Free)'}
    </button>
  );
}
```

### Batch Operations

```tsx
const { sendBatchTransaction } = useSmartWallet();

const result = await sendBatchTransaction([
  { to: '0x...', data: '0x...', value: '0' },
  { to: '0x...', data: '0x...', value: '0' },
]);
```

### How Fee Sponsorship Works

Behind the scenes, Varity uses ERC-4337 account abstraction:

1. **User initiates action** - Clicks a button in your app
2. **Operation prepared** - Smart account encodes the operation
3. **Bundler submission** - Operation sent to bundler network
4. **Paymaster approval** - Varity's paymaster agrees to pay the fee
5. **Execution** - Operation executes on Varity's infrastructure
6. **Confirmation** - User sees success

All of this happens in seconds, completely invisible to users.

</Accordion>

## Next Steps

- [Credit Card Payments](/build/payments/credit-card) - Monetize your app
- [File Storage](/build/storage/quickstart) - Upload and store files
- [Authentication](/build/auth/quickstart) - Set up login
